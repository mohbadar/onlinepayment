<!--
    <kt-notice [icon]="'flaticon-warning kt-font-primary'">
	We know that you are authorized to access this part of the system. 
	Considering that, this is a critical module. Please be careful!
</kt-notice> 
-->


<kt-portlet>
    <kt-portlet-body>

        <!--begin: Wizard -->
        <div #wizard class="kt-grid kt-wizard-v2 kt-wizard-v2--white" id="kt_wizard_v2"
            data-ktwizard-state="step-first">
            <div class="kt-grid__item kt-grid__item--fluid kt-wizard-v2__wrapper">
                <!--begin: Form Wizard Form-->
                <form [formGroup]="myForm" (ngSubmit)="submit()" class="kt-form" id="kt_form">
                    <!--begin: Form Wizard Step 1-->
                    <div class="kt-wizard-v2__content" data-ktwizard-type="step-content" data-ktwizard-state="current">
                        <div class="kt-heading kt-heading--md">{{'ADD_BILL_TYPE'|translate}} </div>
                        <div class="kt-form__section kt-form__section--first">
                            <div class="kt-wizard-v2__form">

                                <div class="form-group required">
                                    <label class="col-form-label">{{'PROVINCE'|translate}}</label>
                                    <ng-select [items]="provinces$ | async " bindLabel="name" bindValue="id"
                                    [placeholder]="'PROVINCE'|translate" formControlName="provinceId">
                                    </ng-select>
                                    <print-error [control]="myForm.get('name')"></print-error>
                                </div>

                                <div class="form-group required">
                                    <label class="col-form-label">{{'ORGANIZATION'|translate}}</label>
                                    <ng-select [items]="organizations$ | async " bindLabel="name" bindValue="id"
                                    [placeholder]="'ORGANIZATION'|translate" formControlName="organizationId">
                                    </ng-select>
                                    <print-error [control]="myForm.get('organizationId')"></print-error>
                                </div>

                                <div class="form-group required">
                                    <label class="col-form-label">{{'CENTER'|translate}}</label>
                                    <ng-select [items]="centers$ | async " bindLabel="name" bindValue="id"
                                    [placeholder]="'CENTER'|translate" formControlName="centerId">
                                    </ng-select>
                                    <print-error [control]="myForm.get('centerId')"></print-error>
                                </div>

                                
                                <div class="form-group required">
                                    <label class="col-form-label">{{'FEE_MODEL'|translate}}</label>
                                    <ng-select [items]="feemodels$ | async " bindLabel="name" bindValue="id"
                                    [placeholder]="'FEE_MODEL'|translate" formControlName="feeModelId">
                                    </ng-select>
                                    <print-error [control]="myForm.get('feeModelId')"></print-error>
                                </div>

                                <div class="form-group required">
                                    <label class="col-form-label">{{'NAME'|translate}}</label>
                                    <input type="text" class="form-control" name="name"
                                        [placeholder]="'NAME'|translate" formControlName="name">
                                    <print-error [control]="myForm.get('name')"></print-error>
                                </div>

                                <div class="form-group required">
                                    <label class="col-form-label">{{'PRICE_PER_ITEM'|translate}}</label>
                                    <input type="number" class="form-control" name="pricePerItem"
                                        [placeholder]="'PRICE_PER_ITEM'|translate" formControlName="pricePerItem">
                                    <print-error [control]="myForm.get('pricePerItem')"></print-error>
                                </div>

                            </div>
                        </div>
                    </div>
                    <!--end: Form Wizard Step 1-->


                    <div class="kt-form__section kt-form__section--first">
                        <div class="form-group kt-form__group row">
                          <label class="col-lg-3 col-form-label"> {{'BILLING_CHANNEL'|translate}}</label>
                          <div class="col-lg-9">
                            <ng-select
                              [placeholder]="'BILLING_CHANNEL' | translate"
                              formControlName="billingChannel"
                            >
                              <ng-option value="ONLINE"
                                >ONLINE</ng-option
                              >
                              <ng-option value="OFFLINE"
                                >OFFLINE</ng-option
                              >
                            
                            </ng-select>
                            <print-error [control]="myForm.get('billingChannel')"></print-error>
                          </div>
                        </div>
                      </div>


                      <div class="form-group required">
                        <label class="col-form-label">{{'THIRD_PARTY_INTEGRATION'|translate}}</label>
                        <ng-select [items]="integrations$ | async " bindLabel="name" bindValue="id"
                        [placeholder]="'THIRD_PARTY_INTEGRATION'|translate" formControlName="thirdPartyIntegrationId">
                        </ng-select>
                        <print-error [control]="myForm.get('thirdPartyIntegrationId')"></print-error>
                    </div>





                    <!--begin: Form Actions -->
                    <div class="kt-form__actions text-center">
                        <button (click)="routeHome()" type="button"
                            class="btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u">
                            {{'BACK'|translate}}
                        </button>&nbsp;&nbsp;
                        <button [disabled]="myForm.invalid"
                            class="btn btn-primary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u"
                            data-ktwizard-type="action-submit">
                            {{'SUBMIT'|translate}}
                        </button>
                    </div>
                    <!--end: Form Actions -->
                </form>
                <!--end: Form Wizard Form-->
            </div>
        </div>
        <!--end: Wizard -->

    </kt-portlet-body>
</kt-portlet>
<ngx-spinner></ngx-spinner>